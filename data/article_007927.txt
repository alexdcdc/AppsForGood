Matthew Bryce, 38, from Bathgate, pled guilty to wilfully neglecting two boys and exposing them to unnecessary suffering or injury to health.
A sheriff said the boys, aged 11 and four, could have mistaken the Valium and prescription drugs for sweets.
Social workers found the children's mother unconscious in the living room.
Bryce, who was supposed to be looking after the children, was found hiding in a bunk bed in an upstairs bedroom.
The court heard Bryce, who the social workers knew was abusing drugs at the time, was clearly under the influence of drugs or alcohol.
He admitted leaving a quantity of drugs on open display and easily accessible to the boys while he was unfit to care for the children because he was under the influence of drugs or alcohol.
Glenn Fraser, defending, claimed the drugs were in containers, one of which had a tamper-proof lid.
The other one was on a window ledge out of reach of the youngest child.
He said Bryce had turned his life around since the offence.
Mr Fraser said: "He hasn't had any recent difficulties and he's settled into what is almost to him a new life.
"He has a new tenancy and he has moved away from former associates."
Passing sentence, Sheriff Douglas Kinloch told Bryce: "You failed these children badly.
"You neglected the children and there could have been very, very serious consequences had either of them got hold of these tablets thinking they were sweets.
"That is presumably because all you were thinking about was yourself.
"At least you've taken steps to address the various issues in relation to drugs."