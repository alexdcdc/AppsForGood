Details emerged as the prosecution opened its case against Kevin Hutchinson-Foster, 30, who denies a charge of supplying the weapon.
Snaresbrook Crown Court heard Mr Duggan, 29, had travelled by cab to Leyton to collect the gun.
His death sparked riots in London which spread across England in summer 2011.
Edward Brown QC told the court that a handgun found on 4 August on a grass bank in Ferry Lane, Tottenham Hale, north London, had been in Mr Duggan's possession.
Mr Brown said Mr Duggan travelled by minicab to the area where a girlfriend of the defendant lived to collect the gun, which was hidden in a shoebox.
After the handover, Mr Duggan carried on towards Tottenham Hale with the gun, taking it out at some point during the journey, the court was told.
"It was not long into this second part of his journey that the minicab with Mark Duggan inside was stopped by police.
"There in Ferry Lane Mark Duggan was shot and fatally injured by the police as a result of his possession of that gun and what he was thought to be about to do with it," Mr Brown said.
He told the jury that armed police surrounded the cab but as Mr Duggan got out he was seen to have a gun in his hand.
"The police marksmen were in no doubt that this was as dangerous a position as possible - gun in hand - and he was seen to start to bring it round as if to shoot.
"The gun was found to be loaded with a bullet, as you know and as you will see in photographs. He was shot."
The court heard the gun, a BBM Bruni Model 92 handgun with one bullet in it, was found near the scene of the shooting.
Mr Brown said it was in a black sock which was ripped at the toe to expose the barrel of the gun and at the heel so the cocking lever was showing. It had been modified to take live 9mm bullets.
Mr Duggan's fingerprints were found on the shoebox which was recovered from the boot of the minicab, jurors heard.
Mr Brown told the court telephone data showed Mr Duggan and the defendant had been in contact.
He said the defendant lied to police about his possession of the gun and about his links to Mr Duggan.
"He provided a dishonest explanation as he hoped it would avoid his true responsibilities, say the Crown, in respect of the gun and its supply by him to Mark Duggan," Mr Brown said.
Mr Brown told the court there was a "breadth of evidence" supporting the case that Mr Hutchinson-Foster supplied the gun to Mr Duggan and that it was the same weapon used by Mr Hutchinson-Foster during a fight with a man a week earlier.
Blood from both Mr Hutchinson-Foster and the person involved in the fight was found on the gun and sock, he said.
Mr Brown told jurors it was not their task to decide "one way or the other the rights and wrongs of the shooting of Mark Duggan" and that those "tragic events" were for the inquest next year to determine.
Mr Hutchinson-Foster, of no fixed abode, denies selling or transferring a prohibited firearm to Mr Duggan between 28 July and 5 August last year.
The trial continues.